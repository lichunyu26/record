var e="comm",r="rule",n="decl",c=Math.abs,t=String.fromCharCode;function a(e){return e.trim()}function u(e,r,n){return e.replace(r,n)}function s(e,r){return e.indexOf(r)}function i(e,r){return 0|e.charCodeAt(r)}function f(e,r,n){return e.slice(r,n)}function o(e){return e.length}function l(e,r){return r.push(e),e}var h=1,b=1,k=0,d=0,p=0,v="";function g(e,r,n,c,t,a,u,s){return{value:e,root:r,parent:n,type:c,props:t,children:a,line:h,column:b,length:u,return:"",siblings:s}}function w(){return p=d>0?i(v,--d):0,b--,10===p&&(b=1,h--),p}function m(){return p=d<k?i(v,d++):0,b++,10===p&&(b=1,h++),p}function y(){return i(v,d)}function C(){return d}function x(e,r){return f(v,e,r)}function j(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(e){return a(x(d-1,S(91===e?e+2:40===e?e+1:e)))}function M(e){for(;(p=y())&&p<33;)m();return j(e)>2||j(p)>3?"":" "}function O(e,r){for(;--r&&m()&&!(p<48||p>102||p>57&&p<65||p>70&&p<97););return x(e,C()+(r<6&&32==y()&&32==m()))}function S(e){for(;m();)switch(p){case e:return d;case 34:case 39:34!==e&&39!==e&&S(p);break;case 40:41===e&&S(e);break;case 92:m()}return d}function q(e,r){for(;m()&&e+p!==57&&(e+p!==84||47!==y()););return"/*"+x(r,d-1)+"*"+t(47===e?e:m())}function z(e){for(;!j(y());)m();return x(e,d)}function B(e){return function(e){return v="",e}(D("",null,null,null,[""],e=function(e){return h=b=1,k=o(v=e),d=0,[]}(e),0,[0],e))}function D(e,r,n,c,a,f,h,b,k){for(var d=0,p=0,v=h,g=0,x=0,j=0,S=1,B=1,H=1,I=0,J="",K=a,L=f,N=c,P=J;B;)switch(j=I,I=m()){case 40:if(108!=j&&58==i(P,v-1)){-1!=s(P+=u(A(I),"&","&\f"),"&\f")&&(H=-1);break}case 34:case 39:case 91:P+=A(I);break;case 9:case 10:case 13:case 32:P+=M(j);break;case 92:P+=O(C()-1,7);continue;case 47:switch(y()){case 42:case 47:l(F(q(m(),C()),r,n,k),k);break;default:P+="/"}break;case 123*S:b[d++]=o(P)*H;case 125*S:case 59:case 0:switch(I){case 0:case 125:B=0;case 59+p:-1==H&&(P=u(P,/\f/g,"")),x>0&&o(P)-v&&l(x>32?G(P+";",c,n,v-1,k):G(u(P," ","")+";",c,n,v-2,k),k);break;case 59:P+=";";default:if(l(N=E(P,r,n,d,p,a,b,J,K=[],L=[],v,f),f),123===I)if(0===p)D(P,r,N,N,K,f,v,b,L);else switch(99===g&&110===i(P,3)?100:g){case 100:case 108:case 109:case 115:D(e,N,N,c&&l(E(e,N,N,0,0,a,b,J,a,K=[],v,L),L),a,L,v,b,c?K:L);break;default:D(P,N,N,N,[""],L,0,b,L)}}d=p=x=0,S=H=1,J=P="",v=h;break;case 58:v=1+o(P),x=j;default:if(S<1)if(123==I)--S;else if(125==I&&0==S++&&125==w())continue;switch(P+=t(I),I*S){case 38:H=p>0?1:(P+="\f",-1);break;case 44:b[d++]=(o(P)-1)*H,H=1;break;case 64:45===y()&&(P+=A(m())),g=y(),p=v=o(J=P+=z(C())),I++;break;case 45:45===j&&2==o(P)&&(S=0)}}return f}function E(e,n,t,s,i,o,l,h,b,k,d,p){for(var v=i-1,w=0===i?o:[""],m=function(e){return e.length}(w),y=0,C=0,x=0;y<s;++y)for(var j=0,A=f(e,v+1,v=c(C=l[y])),M=e;j<m;++j)(M=a(C>0?w[j]+" "+A:u(A,/&\f/g,w[j])))&&(b[x++]=M);return g(e,n,t,0===i?r:h,b,k,d,p)}function F(r,n,c,a){return g(r,n,c,e,t(p),f(r,2,-2),0,a)}function G(e,r,c,t,a){return g(e,r,c,n,f(e,0,t),f(e,t+1,-1),t,a)}function H(e,r){for(var n="",c=0;c<e.length;c++)n+=r(e[c],c,e,r)||"";return n}function I(c,t,a,u){switch(c.type){case"@layer":if(c.children.length)break;case"@import":case n:return c.return=c.return||c.value;case e:return"";case"@keyframes":return c.return=c.value+"{"+H(c.children,u)+"}";case r:if(!o(c.value=c.props.join(",")))return""}return o(a=H(c.children,u))?c.return=c.value+"{"+a+"}":""}export{I as a,B as c,H as s};
